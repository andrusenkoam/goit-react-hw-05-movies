"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[34],{34:(e,s,i)=>{i.r(s),i.d(s,{default:()=>P});var a=i(43),t=i(675),r=i(919),l=i(898),n=i(828),c=i(256),o=i(505);const _="MovieDetailsPage_goBackBtn__HFgJA",h="MovieDetailsPage_details__pkcOH",d="MovieDetailsPage_information__e5SPI",m="MovieDetailsPage_imageWraper__UgAWu",v="MovieDetailsPage_detailsWraper__tlfoz",g="MovieDetailsPage_detailsTitle__QUikg",j="MovieDetailsPage_scoreInfo__3XY9-",x="MovieDetailsPage_overwiesTitle__UnY1G",p="MovieDetailsPage_overwiesInfo__cGcJQ",f="MovieDetailsPage_genresTitle__l7zLP",u="MovieDetailsPage_informationTitle__zECkj",N="MovieDetailsPage_informationList__kjevH",w="MovieDetailsPage_link__rhdjc";var k=i(579);const P=()=>{var e;const[s,i]=(0,a.useState)(null),[P,M]=(0,a.useState)(!1),[D,$]=(0,a.useState)(!1),{movieId:y}=(0,t.g)(),b=(0,t.zy)(),S=(0,a.useRef)(null!==(e=b.state)&&void 0!==e?e:"/");if((0,a.useEffect)((()=>{M(!0),(0,o.l)(y).then((e=>e.ok?e.json():Promise.reject(new Error("Oops, something went wrong. Repeat one more time!")))).then((e=>i(e))).catch((e=>$(e))).finally((()=>M(!1)))}),[y]),!s)return;const{title:I,vote_average:T,overview:z,genres:C,poster_path:E}=s,G=Math.round(10*Number(T));return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(t.N_,{className:_,to:S.current,children:[(0,k.jsx)(r.JWD,{}),"Go back"]}),(0,k.jsxs)(l.w,{children:[P&&(0,k.jsx)(n.a,{}),D&&(0,k.jsx)(c.K,{message:D.message}),(0,k.jsxs)("div",{className:h,children:[(0,k.jsx)("div",{className:m,children:E?(0,k.jsx)("img",{src:`https://image.tmdb.org/t/p/w500${E}`,alt:I}):(0,k.jsx)("img",{src:"https://banffventureforum.com/wp-content/uploads/2019/08/No-Image.png",alt:I})}),(0,k.jsxs)("div",{className:v,children:[(0,k.jsx)("h2",{className:g,children:I}),(0,k.jsxs)("p",{className:j,children:["User score:",(0,k.jsxs)("span",{children:[" ",G]}),"%"]}),(0,k.jsx)("h3",{className:x,children:"Overwies"}),(0,k.jsx)("p",{className:p,children:z}),(0,k.jsx)("h3",{className:f,children:"Genres"}),(0,k.jsx)("p",{children:C.length>0?C.map((e=>e.name)).join(", "):"No info"})]})]})]}),(0,k.jsx)(l.w,{children:(0,k.jsxs)("div",{className:d,children:[(0,k.jsx)("h3",{className:u,children:"Additional information"}),(0,k.jsxs)("ul",{className:N,children:[(0,k.jsx)("li",{children:(0,k.jsx)(t.N_,{className:w,to:"cast",children:"Cast"})}),(0,k.jsx)("li",{children:(0,k.jsx)(t.N_,{className:w,to:"reviews",children:"Reviews"})})]})]})}),(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)(n.a,{}),children:(0,k.jsx)(t.sv,{})})]})}},256:(e,s,i)=>{i.d(s,{K:()=>r});const a="ErrorMessage_errorMessage__4OvLD";var t=i(579);const r=e=>{let{message:s}=e;return(0,t.jsx)("p",{className:a,children:s})}},505:(e,s,i)=>{i.d(s,{Nt:()=>r,PM:()=>n,_x:()=>o,l:()=>l,tr:()=>c});const a="https://api.themoviedb.org/3",t="14d14d317e7936ec61c7763e22ff83f6",r=()=>fetch(`${a}/trending/movie/day?api_key=${t}&page=1`),l=e=>fetch(`${a}/movie/${e}?api_key=${t}`),n=e=>fetch(`${a}/search/movie?query=${e}&api_key=${t}&page=1`),c=e=>fetch(`${a}/movie/${e}/credits?api_key=${t}`),o=e=>fetch(`${a}/movie/${e}/reviews?api_key=${t}`)},898:(e,s,i)=>{i.d(s,{w:()=>l});const a="Section_section__Z2PLw",t="Section_sectionTitle__in2ym";var r=i(579);const l=e=>{let{title:s,children:i}=e;return(0,r.jsxs)("section",{className:a,children:[s&&(0,r.jsx)("h2",{className:t,children:s}),i]})}}}]);
//# sourceMappingURL=34.48cf5a3e.chunk.js.map