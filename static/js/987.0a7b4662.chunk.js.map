{"version":3,"file":"static/js/987.0a7b4662.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/ErrorMessage/ErrorMessage.module.css?d773","components/ErrorMessage/ErrorMessage.jsx","services/api.js","webpack://goit-react-hw-05-movies/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx","webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"errorMessage\":\"ErrorMessage_errorMessage__4OvLD\"};","import PropTypes from 'prop-types';\nimport css from './ErrorMessage.module.css';\n\nexport const ErrorMessage = ({ message }) => {\n  return <p className={css.errorMessage}>{message}</p>;\n};\n\nErrorMessage.propTypes = { message: PropTypes.string.isRequired };\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '14d14d317e7936ec61c7763e22ff83f6';\n\nexport const getTrendingMovies = () =>\n  fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=1`);\n\nexport const getMovieById = id =>\n  fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n\nexport const getMovieByName = name =>\n  fetch(`${BASE_URL}/search/movie?query=${name}&api_key=${API_KEY}&page=1`);\n\nexport const getFilmCasts = id =>\n  fetch(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n\nexport const getFilmReviews = id =>\n  fetch(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\",\"sectionTitle\":\"Section_sectionTitle__in2ym\"};","import PropTypes from 'prop-types';\nimport css from './Section.module.css';\n\nexport const Section = ({ title, children }) => {\n  return (\n    <section className={css.section}>\n      {title && <h2 className={css.sectionTitle}>{title}</h2>}\n      {children}\n    </section>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"MoviesPage_searchForm__oPV05\",\"searchText\":\"MoviesPage_searchText__WULPC\",\"searchBtn\":\"MoviesPage_searchBtn__Ax0+q\",\"list\":\"MoviesPage_list__PJZqT\",\"item\":\"MoviesPage_item__3en+6\",\"link\":\"MoviesPage_link__Lj8cH\",\"movieError\":\"MoviesPage_movieError__nGTcO\"};","import { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport { Section } from 'components/Section/Section';\nimport { Loader } from 'components/Loader/Loader';\nimport { ErrorMessage } from 'components/ErrorMessage/ErrorMessage';\nimport { getMovieByName } from 'services/api';\nimport css from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchText, setSearchText] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const { value } = evt.target.elements.text;\n    if (value.trim() === '') return;\n    setSearchText(value.toLowerCase());\n    setSearchParams({ query: value.toLowerCase() });\n    evt.target.reset();\n  };\n\n  useEffect(() => {\n    if (query) {\n      setSearchText(query);\n    }\n  }, [query]);\n\n  useEffect(() => {\n    if (searchText === '') {\n      return;\n    }\n\n    setIsLoading(true);\n\n    getMovieByName(searchText)\n      .then(resp => {\n        if (!resp.ok) {\n          return Promise.reject(\n            new Error('Oops, something went wrong. Repeat one more time!')\n          );\n        }\n\n        return resp.json();\n      })\n      .then(data => {\n        setMovies(data.results);\n      })\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  }, [searchText]);\n\n  return (\n    <>\n      <Section>\n        {isLoading && <Loader />}\n        {error && <ErrorMessage message={error.message} />}\n        <form\n          className={css.searchForm}\n          onSubmit={handleSubmit}\n          autoComplete=\"off\"\n        >\n          <input className={css.searchText} type=\"text\" name=\"text\" autoFocus />\n          <button className={css.searchBtn} type=\"submit\" disabled={isLoading}>\n            Search\n          </button>\n        </form>\n      </Section>\n      <Section>\n        {movies.length !== 0 ? (\n          <ul className={css.list}>\n            {movies.map(({ id, title }) => (\n              <li className={css.item} key={id}>\n                <Link className={css.link} to={`${id}`} state={location}>\n                  {title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p className={css.movieError}>\n            {searchText !== ''\n              ? `There are no results for query ${searchText}`\n              : ''}\n          </p>\n        )}\n      </Section>\n    </>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["ErrorMessage","_ref","message","_jsx","className","css","children","BASE_URL","API_KEY","getTrendingMovies","fetch","getMovieById","id","getMovieByName","name","getFilmCasts","getFilmReviews","Section","title","_jsxs","MoviesPage","movies","setMovies","useState","searchText","setSearchText","isLoading","setIsLoading","error","setError","searchParams","setSearchParams","useSearchParams","location","useLocation","query","get","useEffect","then","resp","ok","json","Promise","reject","Error","data","results","catch","finally","_Fragment","Loader","onSubmit","evt","preventDefault","value","target","elements","text","trim","toLowerCase","reset","autoComplete","type","autoFocus","disabled","length","map","Link","to","state"],"sourceRoot":""}