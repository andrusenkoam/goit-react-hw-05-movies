"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[987],{256:(e,s,t)=>{t.d(s,{K:()=>i});const a="ErrorMessage_errorMessage__4OvLD";var r=t(579);const i=e=>{let{message:s}=e;return(0,r.jsx)("p",{className:a,children:s})}},505:(e,s,t)=>{t.d(s,{Nt:()=>i,PM:()=>o,_x:()=>l,l:()=>c,tr:()=>n});const a="https://api.themoviedb.org/3",r="14d14d317e7936ec61c7763e22ff83f6",i=()=>fetch(`${a}/trending/movie/day?api_key=${r}&page=1`),c=e=>fetch(`${a}/movie/${e}?api_key=${r}`),o=e=>fetch(`${a}/search/movie?query=${e}&api_key=${r}&page=1`),n=e=>fetch(`${a}/movie/${e}/credits?api_key=${r}`),l=e=>fetch(`${a}/movie/${e}/reviews?api_key=${r}`)},898:(e,s,t)=>{t.d(s,{w:()=>c});const a="Section_section__Z2PLw",r="Section_sectionTitle__in2ym";var i=t(579);const c=e=>{let{title:s,children:t}=e;return(0,i.jsxs)("section",{className:a,children:[s&&(0,i.jsx)("h2",{className:r,children:s}),t]})}},987:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(43),r=t(675),i=t(898),c=t(828),o=t(256),n=t(505);const l="MoviesPage_searchForm__oPV05",_="MoviesPage_searchText__WULPC",h="MoviesPage_searchBtn__Ax0+q",m="MoviesPage_list__PJZqT",u="MoviesPage_item__3en+6",d="MoviesPage_link__Lj8cH",g="MoviesPage_movieError__nGTcO";var v=t(579);const p=()=>{const[e,s]=(0,a.useState)([]),[t,p]=(0,a.useState)(""),[x,f]=(0,a.useState)(!1),[j,$]=(0,a.useState)(!1),[y,w]=(0,r.ok)(),P=(0,r.zy)(),k=y.get("query");return(0,a.useEffect)((()=>{k&&p(k)}),[k]),(0,a.useEffect)((()=>{""!==t&&(f(!0),(0,n.PM)(t).then((e=>e.ok?e.json():Promise.reject(new Error("Oops, something went wrong. Repeat one more time!")))).then((e=>{s(e.results)})).catch((e=>$(e))).finally((()=>f(!1))))}),[t]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(i.w,{children:[x&&(0,v.jsx)(c.a,{}),j&&(0,v.jsx)(o.K,{message:j.message}),(0,v.jsxs)("form",{className:l,onSubmit:e=>{e.preventDefault();const{value:s}=e.target.elements.text;""!==s.trim()&&(p(s.toLowerCase()),w({query:s.toLowerCase()}),e.target.reset())},children:[(0,v.jsx)("input",{className:_,type:"text",name:"text",autoFocus:!0}),(0,v.jsx)("button",{className:h,type:"submit",disabled:x,children:"Search"})]})]}),(0,v.jsx)(i.w,{children:0!==e.length?(0,v.jsx)("ul",{className:m,children:e.map((e=>{let{id:s,title:t}=e;return(0,v.jsx)("li",{className:u,children:(0,v.jsx)(r.N_,{className:d,to:`${s}`,state:P,children:t})},s)}))}):(0,v.jsx)("p",{className:g,children:""!==t?`There are no results for query ${t}`:""})})]})}}}]);
//# sourceMappingURL=987.c4a94b0a.chunk.js.map