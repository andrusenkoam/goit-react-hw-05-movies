{"version":3,"file":"static/js/34.48cf5a3e.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","webpack://goit-react-hw-05-movies/./src/components/ErrorMessage/ErrorMessage.module.css?d773","components/ErrorMessage/ErrorMessage.jsx","services/api.js","webpack://goit-react-hw-05-movies/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"goBackBtn\":\"MovieDetailsPage_goBackBtn__HFgJA\",\"details\":\"MovieDetailsPage_details__pkcOH\",\"information\":\"MovieDetailsPage_information__e5SPI\",\"imageWraper\":\"MovieDetailsPage_imageWraper__UgAWu\",\"detailsWraper\":\"MovieDetailsPage_detailsWraper__tlfoz\",\"detailsTitle\":\"MovieDetailsPage_detailsTitle__QUikg\",\"scoreInfo\":\"MovieDetailsPage_scoreInfo__3XY9-\",\"overwiesTitle\":\"MovieDetailsPage_overwiesTitle__UnY1G\",\"overwiesInfo\":\"MovieDetailsPage_overwiesInfo__cGcJQ\",\"genresTitle\":\"MovieDetailsPage_genresTitle__l7zLP\",\"informationTitle\":\"MovieDetailsPage_informationTitle__zECkj\",\"informationList\":\"MovieDetailsPage_informationList__kjevH\",\"link\":\"MovieDetailsPage_link__rhdjc\"};","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { GoArrowLeft } from 'react-icons/go';\nimport { Section } from 'components/Section/Section';\nimport { Loader } from 'components/Loader/Loader';\nimport { ErrorMessage } from 'components/ErrorMessage/ErrorMessage';\nimport { getMovieById } from 'services/api';\nimport css from './MovieDetailsPage.module.css';\n\nconst MovieDetailsPage = () => {\n  const [items, setItems] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state ?? '/');\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    getMovieById(movieId)\n      .then(resp => {\n        if (!resp.ok) {\n          return Promise.reject(\n            new Error('Oops, something went wrong. Repeat one more time!')\n          );\n        }\n\n        return resp.json();\n      })\n      .then(data => setItems(data))\n      .catch(error => setError(error))\n      .finally(() => setIsLoading(false));\n  }, [movieId]);\n\n  if (!items) return;\n\n  const { title, vote_average, overview, genres, poster_path } = items;\n  const procent = Math.round(Number(vote_average) * 10);\n  const filmPosterUrl = `https://image.tmdb.org/t/p/w500`;\n  const noImages = `https://banffventureforum.com/wp-content/uploads/2019/08/No-Image.png`;\n\n  return (\n    <>\n      <Link className={css.goBackBtn} to={backLinkLocationRef.current}>\n        <GoArrowLeft />\n        Go back\n      </Link>\n      <Section>\n        {isLoading && <Loader />}\n        {error && <ErrorMessage message={error.message} />}\n        <div className={css.details}>\n          <div className={css.imageWraper}>\n            {poster_path ? (\n              <img src={`${filmPosterUrl}${poster_path}`} alt={title} />\n            ) : (\n              <img src={`${noImages}`} alt={title} />\n            )}\n          </div>\n          <div className={css.detailsWraper}>\n            <h2 className={css.detailsTitle}>{title}</h2>\n            <p className={css.scoreInfo}>\n              User score:<span> {procent}</span>%\n            </p>\n            <h3 className={css.overwiesTitle}>Overwies</h3>\n            <p className={css.overwiesInfo}>{overview}</p>\n            <h3 className={css.genresTitle}>Genres</h3>\n            <p>\n              {genres.length > 0\n                ? genres.map(genre => genre.name).join(', ')\n                : 'No info'}\n            </p>\n          </div>\n        </div>\n      </Section>\n      <Section>\n        <div className={css.information}>\n          <h3 className={css.informationTitle}>Additional information</h3>\n          <ul className={css.informationList}>\n            <li>\n              <Link className={css.link} to=\"cast\">\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link className={css.link} to=\"reviews\">\n                Reviews\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </Section>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetailsPage;\n","// extracted by mini-css-extract-plugin\nexport default {\"errorMessage\":\"ErrorMessage_errorMessage__4OvLD\"};","import PropTypes from 'prop-types';\nimport css from './ErrorMessage.module.css';\n\nexport const ErrorMessage = ({ message }) => {\n  return <p className={css.errorMessage}>{message}</p>;\n};\n\nErrorMessage.propTypes = { message: PropTypes.string.isRequired };\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '14d14d317e7936ec61c7763e22ff83f6';\n\nexport const getTrendingMovies = () =>\n  fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=1`);\n\nexport const getMovieById = id =>\n  fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`);\n\nexport const getMovieByName = name =>\n  fetch(`${BASE_URL}/search/movie?query=${name}&api_key=${API_KEY}&page=1`);\n\nexport const getFilmCasts = id =>\n  fetch(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`);\n\nexport const getFilmReviews = id =>\n  fetch(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`);\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\",\"sectionTitle\":\"Section_sectionTitle__in2ym\"};","import PropTypes from 'prop-types';\nimport css from './Section.module.css';\n\nexport const Section = ({ title, children }) => {\n  return (\n    <section className={css.section}>\n      {title && <h2 className={css.sectionTitle}>{title}</h2>}\n      {children}\n    </section>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n"],"names":["MovieDetailsPage","_location$state","items","setItems","useState","isLoading","setIsLoading","error","setError","movieId","useParams","location","useLocation","backLinkLocationRef","useRef","state","useEffect","getMovieById","then","resp","ok","json","Promise","reject","Error","data","catch","finally","title","vote_average","overview","genres","poster_path","procent","Math","round","Number","_jsxs","_Fragment","children","Link","className","css","to","current","_jsx","GoArrowLeft","Section","Loader","ErrorMessage","message","src","alt","length","map","genre","name","join","Suspense","fallback","Outlet","_ref","BASE_URL","API_KEY","getTrendingMovies","fetch","id","getMovieByName","getFilmCasts","getFilmReviews"],"sourceRoot":""}