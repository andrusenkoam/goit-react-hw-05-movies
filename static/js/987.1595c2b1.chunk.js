"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[987],{256:(e,t,s)=>{s.d(t,{K:()=>o});const r="ErrorMessage_errorMessage__4OvLD";var a=s(579);const o=e=>{let{message:t}=e;return(0,a.jsx)("p",{className:r,children:t})}},505:(e,t,s)=>{s.d(t,{Nt:()=>o,PM:()=>i,_x:()=>l,l:()=>c,tr:()=>n});const r="https://api.themoviedb.org/3",a="14d14d317e7936ec61c7763e22ff83f6",o=()=>fetch(`${r}/trending/movie/day?api_key=${a}&page=1`),c=e=>fetch(`${r}/movie/${e}?api_key=${a}`),i=e=>fetch(`${r}/search/movie?query=${e}&api_key=${a}&page=1`),n=e=>fetch(`${r}/movie/${e}/credits?api_key=${a}`),l=e=>fetch(`${r}/movie/${e}/reviews?api_key=${a}`)},898:(e,t,s)=>{s.d(t,{w:()=>c});const r="Section_section__Z2PLw",a="Section_sectionTitle__in2ym";var o=s(579);const c=e=>{let{title:t,children:s}=e;return(0,o.jsxs)("section",{className:r,children:[t&&(0,o.jsx)("h2",{className:a,children:t}),s]})}},987:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var r=s(43),a=s(675),o=s(115),c=s(898),i=s(828),n=s(256),l=s(505);const _="MoviesPage_searchForm__oPV05",h="MoviesPage_searchText__WULPC",m="MoviesPage_searchBtn__Ax0+q",u="MoviesPage_list__PJZqT",d="MoviesPage_item__3en+6",p="MoviesPage_link__Lj8cH";var g=s(579);const v=()=>{const[e,t]=(0,r.useState)([]),[s,v]=(0,r.useState)(""),[f,x]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[$,w]=(0,a.ok)(),P=(0,a.zy)(),k=$.get("query");return(0,r.useEffect)((()=>{k&&v(k)}),[k]),(0,r.useEffect)((()=>{""!==s&&(x(!0),(0,l.PM)(s).then((e=>e.ok?e.json():Promise.reject(new Error("Oops, something went wrong. Repeat one more time!")))).then((e=>{const{results:r,total_results:a}=e;0===a&&o.oR.error(`There are no results for query ${s}`,{position:"top-center",autoClose:2e3,theme:"colored"}),t(r)})).catch((e=>y(e))).finally((()=>x(!1))))}),[s]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(c.w,{children:[f&&(0,g.jsx)(i.a,{}),j&&(0,g.jsx)(n.K,{message:j.message}),(0,g.jsxs)("form",{className:_,onSubmit:e=>{e.preventDefault();const{value:s}=e.target.elements.text;""!==s.trim()?(t([]),v(s.toLowerCase()),w({query:s.toLowerCase()}),e.target.reset()):o.oR.warn("Enter a search query!",{position:"top-center",autoClose:2e3,theme:"colored"})},autoComplete:"off",children:[(0,g.jsx)("input",{className:h,type:"text",name:"text",autoFocus:!0}),(0,g.jsx)("button",{className:m,type:"submit",disabled:f,children:"Search"})]})]}),(0,g.jsx)(c.w,{children:0!==e.length&&(0,g.jsx)("ul",{className:u,children:e.map((e=>{let{id:t,title:s}=e;return(0,g.jsx)("li",{className:d,children:(0,g.jsx)(a.N_,{className:p,to:`${t}`,state:P,children:s})},t)}))})})]})}}}]);
//# sourceMappingURL=987.1595c2b1.chunk.js.map